{"version":3,"sources":["views/seller/order/components/ButtonStatus.js","views/seller/order/components/TableOrder.js","views/seller/order/pages/ListOrderPage.js","views/seller/order/pages/DetailOrderPage.js","views/seller/order/index.jsx","helper/FormatDate.js","components/skeleton/TableSkeleton.js","../node_modules/@mui/icons-material/Visibility.js","../node_modules/@mui/icons-material/KeyboardArrowDown.js"],"names":["StyledMenu","styled","props","Menu","elevation","anchorOrigin","vertical","horizontal","transformOrigin","theme","borderRadius","marginTop","spacing","minWidth","color","palette","mode","grey","boxShadow","padding","fontSize","text","secondary","marginRight","backgroundColor","alpha","primary","main","action","selectedOpacity","CustomizedMenus","defaultProps","statusObj","options","anchorRef","React","useRef","useState","open","setOpen","selectedIndex","setSelectedIndex","isProccess","setIsProccess","useEffect","status","handleToggle","prevOpen","handleMenuItemClick","event","index","a","handleUpdateStatus","id","data","shoppingApi","updateStatusOrder","console","log","ProccessDialog","Button","size","ref","undefined","variant","disabled","onClick","endIcon","ClickAwayListener","onClickAway","current","contains","target","MenuListProps","anchorEl","onClose","map","option","MenuItem","selected","TableOrder","orders","columns","field","headerName","width","renderCell","params","fCurrencyVN","value","formatdateDMY","to","IconButton","Grid","container","item","xs","sm","md","style","height","rows","pageSize","rowsPerPageOptions","disableSelectionOnClick","ListOrderPage","user","useSelector","state","auth","isLoadFetchApiSuccess","setIsLoadFetchApiSuccess","setOrders","getAllOrderStore","getOrdersByStoreId","store_id","res","success","newData","or_action","TableSkeleton","DetailOrderPage","useParams","order","setOrder","getOrderById","justifyContent","Typography","created_at","className","cellSpacing","product","length","prd","src","product_img","alt","product_name","attribute_name","product_price","amount","coupon_sku","colSpan","coupon_price","totalQuantity","totalprice","Order","match","useRouteMatch","exact","path","url","component","NotFound","formatdateYMD","dateObj","Date","formatDate","format","timeZone","dateString","distanceToNow","formatDistanceToNow","locale","viLocale","addSuffix","sx","animation","_interopRequireDefault","require","Object","defineProperty","exports","default","_createSvgIcon","_jsxRuntime","_default","jsx","d"],"mappings":"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","file":"static/js/29.7ae1f1b9.chunk.js","sourcesContent":["import React,{useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { styled, alpha } from '@mui/material/styles';\r\nimport Button from '@mui/material/Button';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport ClickAwayListener from '@mui/material/ClickAwayListener';\r\n//api\r\nimport shoppingApi from 'api/shoppingApi';\r\n\r\nimport ProccessDialog from \"components/dialog/ProccessDialog\";\r\n\r\nconst StyledMenu = styled((props) => (\r\n  <Menu\r\n    elevation={0}\r\n    anchorOrigin={{\r\n      vertical: 'bottom',\r\n      horizontal: 'right',\r\n    }}\r\n    transformOrigin={{\r\n      vertical: 'top',\r\n      horizontal: 'right',\r\n    }}\r\n    {...props}\r\n  />\r\n))(({ theme }) => ({\r\n  '& .MuiPaper-root': {\r\n    borderRadius: 6,\r\n    marginTop: theme.spacing(1),\r\n    minWidth: 180,\r\n    color:\r\n      theme.palette.mode === 'light' ? 'rgb(55, 65, 81)' : theme.palette.grey[300],\r\n    boxShadow:\r\n      'rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px',\r\n    '& .MuiMenu-list': {\r\n      padding: '4px 0',\r\n    },\r\n    '& .MuiMenuItem-root': {\r\n      '& .MuiSvgIcon-root': {\r\n        fontSize: 18,\r\n        color: theme.palette.text.secondary,\r\n        marginRight: theme.spacing(1.5),\r\n      },\r\n      '&:active': {\r\n        backgroundColor: alpha(\r\n          theme.palette.primary.main,\r\n          theme.palette.action.selectedOpacity,\r\n        ),\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nCustomizedMenus.propTypes = {\r\n  statusObj: PropTypes.object,\r\n}\r\n\r\nCustomizedMenus.defaultProps = {\r\n  statusObj: null,\r\n}\r\n\r\nconst options = ['Hủy đơn', 'Chờ xác nhận', 'Đã xác nhận','Đang giao hàng','Đã giao hàng'];\r\n\r\nexport default function CustomizedMenus(props) {\r\n  const { statusObj } = props;\r\n  const anchorRef = React.useRef(null);\r\n  /******state*******/\r\n  const [open, setOpen] = React.useState(false);\r\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n  const [isProccess, setIsProccess] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n    setSelectedIndex(statusObj ? statusObj.status : 0);\r\n  }, [statusObj])\r\n\r\n  const handleToggle = () => {\r\n    setOpen((prevOpen) => !prevOpen);\r\n  };\r\n\r\n  /**********handle close sub item button************/\r\n  const handleClose = (event) => {\r\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n  /**********handle click sub item button************/\r\n  const handleMenuItemClick = async (event, index) => {\r\n    await handleUpdateStatus(statusObj.id, index);\r\n    setSelectedIndex(index);\r\n    setOpen(false);\r\n  };\r\n  /**********handle update status order************/\r\n  const handleUpdateStatus = async (id, status) => {\r\n    try {\r\n      setIsProccess(true);\r\n      const data = {\r\n        status: status\r\n      }\r\n      await shoppingApi.updateStatusOrder(id, data);\r\n\r\n      setIsProccess(false);\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {isProccess && <ProccessDialog />} {/* proccess page */}\r\n      <Button\r\n        size=\"small\"\r\n        ref={anchorRef}\r\n        id=\"demo-customized-button\"\r\n        aria-controls=\"demo-customized-menu\"\r\n        aria-haspopup=\"true\"\r\n        aria-expanded={open ? 'true' : undefined}\r\n        variant=\"contained\"\r\n        disabled={selectedIndex === 0 || selectedIndex >= 2 ? true : false}\r\n        onClick={handleToggle}\r\n        endIcon={<KeyboardArrowDownIcon />}\r\n      >\r\n        {options[selectedIndex]}\r\n      </Button>\r\n      <ClickAwayListener onClickAway={handleClose}>\r\n        <StyledMenu\r\n          id=\"demo-customized-menu\"\r\n          MenuListProps={{\r\n            'aria-labelledby': 'demo-customized-button',\r\n          }}\r\n          anchorEl={anchorRef.current}\r\n          open={open}\r\n          onClose={handleToggle}\r\n        >\r\n         {options.map((option, index) => {\r\n            if(index !== 3 && index !== 4){\r\n              return(\r\n                <MenuItem\r\n                  key={option}\r\n                  selected={index === selectedIndex}\r\n                  onClick={(event) => handleMenuItemClick(event, index)}\r\n                >\r\n                  {option}\r\n                </MenuItem>\r\n              )\r\n            }\r\n          })}\r\n        </StyledMenu>\r\n      </ClickAwayListener>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Grid from '@mui/material/Grid';\r\nimport { DataGrid } from '@mui/x-data-grid';\r\nimport { Link } from \"react-router-dom\";\r\nimport IconButton from '@mui/material/IconButton';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\n//helper\r\nimport { formatdateDMY } from \"helper/FormatDate\";\r\nimport { fCurrencyVN } from 'helper/FormatNumber';\r\n\r\nimport ButtonStatus from \"./ButtonStatus\";\r\n\r\nTableOrder.propTypes = {\r\n    orders: PropTypes.array,\r\n}\r\n\r\nTableOrder.defaultProps = {\r\n    orders: [],\r\n}\r\nconst base_url = '/seller/order';\r\n\r\nfunction TableOrder(props) {\r\n    const {orders} = props;\r\n\r\n    const columns = [\r\n        { field: 'id', headerName: 'Mã đơn', width: 90 },\r\n        {\r\n            field: 'totalQuantity',\r\n            headerName: 'Số lượng',\r\n            width: 110,\r\n        },\r\n        {\r\n            field: 'totalprice',\r\n            headerName: 'Tổng tiền',\r\n            width: 150,\r\n            renderCell: (params) => (\r\n                <div>{fCurrencyVN(params.value)}</div>\r\n            ),\r\n        },\r\n        {\r\n            field: 'created_at',\r\n            headerName: 'Ngày đặt',\r\n            width: 150,\r\n            renderCell: (params) => (\r\n                <div>{formatdateDMY(params.value)}</div>\r\n            ),\r\n        },\r\n        {\r\n            field: 'statusObj', headerName: '', width: 200,\r\n            renderCell: (params) => (\r\n                <ButtonStatus statusObj={params.value} />\r\n            ),\r\n        },\r\n        {\r\n            field: 'or_action', headerName: '', width: 150,\r\n            renderCell: (params) => (\r\n                <Link to={`${base_url}/${params.value}`}>\r\n                    <IconButton aria-label=\"\" color=\"inherit\">\r\n                        <VisibilityIcon />\r\n                    </IconButton>\r\n                </Link>\r\n            ),\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <Grid container spacing={3}>\r\n\r\n            <Grid item xs={12} sm={12} md={12}>\r\n                <div style={{ height: 500, width: '100%' }}>\r\n                    <DataGrid\r\n                        rows={orders}\r\n                        columns={columns}\r\n                        pageSize={10}\r\n                        rowsPerPageOptions={[10]}\r\n                        disableSelectionOnClick\r\n                    />\r\n                </div>\r\n            </Grid>\r\n\r\n        </Grid>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default TableOrder\r\n\r\n","import React, { useState, useEffect } from 'react';\r\n//api\r\nimport shoppingApi from 'api/shoppingApi';\r\n//redux\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport TableOrder from \"../components/TableOrder\";\r\nimport TableSkeleton from \"components/skeleton/TableSkeleton\";\r\n\r\nfunction ListOrderPage() {\r\n    const user = useSelector(state => state.auth.user);\r\n    /*********state*********/\r\n    const [isLoadFetchApiSuccess, setIsLoadFetchApiSuccess] = useState(false);\r\n    const [orders, setOrders] = useState([]);\r\n\r\n    useEffect(async () => {\r\n        await getAllOrderStore();\r\n    }, [])\r\n\r\n    const getAllOrderStore = async () => {\r\n        try {\r\n            if (isLoadFetchApiSuccess) {\r\n                setIsLoadFetchApiSuccess(false);\r\n            }\r\n\r\n            const res = await shoppingApi.getOrdersByStoreId(user.store_id);\r\n            if (res.success) {\r\n                const newData = [...res.data].map(item => {\r\n                    item.or_action = item.id;\r\n                    item.statusObj = {\r\n                        id: item.id,\r\n                        status: item.status,\r\n                    }\r\n                    return item;\r\n                })\r\n                setOrders(newData);\r\n            }\r\n            setIsLoadFetchApiSuccess(true);\r\n\r\n        } catch (error) {\r\n            console.log('error', error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                isLoadFetchApiSuccess ?\r\n                    <TableOrder orders={orders} />\r\n                    :\r\n                    <TableSkeleton />\r\n            }\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ListOrderPage;","import React, { useEffect, useState } from 'react';\r\nimport Grid from '@mui/material/Grid';\r\nimport Typography from '@mui/material/Typography';\r\nimport { useParams } from 'react-router-dom';\r\n//api\r\nimport shoppingApi from 'api/shoppingApi';\r\n//helper\r\nimport { formatdateDMY } from \"helper/FormatDate\";\r\nimport { fCurrencyVN } from 'helper/FormatNumber';\r\n\r\nimport \"./DetailOrderPage.scss\";\r\nimport ButtonStatus from \"../components/ButtonStatus\";\r\n\r\nfunction DetailOrderPage() {\r\n  const { id } = useParams();\r\n  /******state*******/\r\n  const [order, setOrder] = useState(null);\r\n\r\n  useEffect(async () => {\r\n    await getOrderById(id);\r\n  }, [id])\r\n\r\n  /**********get order by id*********/\r\n  const getOrderById = async (id) => {\r\n    try {\r\n      const res = await shoppingApi.getOrderById(id);\r\n      if (res.success) {\r\n        const newData = {\r\n          ...res.data,\r\n          statusObj: {\r\n            id: res.data.id,\r\n            status: res.data.status,\r\n          }\r\n        }\r\n        console.log('newData', newData)\r\n        setOrder(newData);\r\n      }\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Grid container spacing={3}>\r\n      <Grid item xs={12} sm={12} md={12}>\r\n        <Grid container justifyContent=\"space-between\">\r\n          <Typography variant='subtitle2'>\r\n            Ngày đặt {order ? formatdateDMY(order.created_at) : ''}\r\n          </Typography>\r\n          <ButtonStatus statusObj={order ? order.statusObj : null} />\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <Grid item xs={12}>\r\n        <div className=\"table-order\">\r\n          <div className=\"header\">Mã đơn #{order ? order.id : ''}</div>\r\n          <table cellSpacing=\"0\">\r\n            <tr>\r\n              <th>Hình ảnh</th>\r\n              <th >Tên sản phẩm</th>\r\n              <th>Giá</th>\r\n              <th>Số lượng</th>\r\n              <th>thành tiền</th>\r\n            </tr>\r\n            {\r\n              order && [...order.product].length > 0 ?\r\n                [...order.product].map(prd => {\r\n                  return (\r\n                    <tr key={prd.id}>\r\n                      <td><img src={prd.product_img} alt=\"\" /></td>\r\n                      <td>\r\n                        <p>{prd.product_name}</p>\r\n                        <p style={{ color: \"gray\" }}>x {prd.attribute_name}</p>\r\n                      </td>\r\n                      <td>{fCurrencyVN(prd.product_price)}</td>\r\n                      <td>{prd.amount}</td>\r\n                      <td>{fCurrencyVN(prd.product_price * prd.amount)} </td>\r\n                    </tr>\r\n                  );\r\n                }) : \"\"\r\n            }\r\n            <tfoot>\r\n              {\r\n                order && order.coupon_sku ?\r\n                  <tr>\r\n                    <td colSpan={2}></td>\r\n                    <td colSpan={2}>Voucher {order.coupon_sku}</td>\r\n                    <td>{fCurrencyVN(order.coupon_price)}</td>\r\n                  </tr>\r\n                  : \"\"\r\n              }\r\n              <tr>\r\n                <td colSpan={2}></td>\r\n                <td colSpan={2}>Tổng số lượng</td>\r\n                <td>{order ? order.totalQuantity : 0}</td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan={2}></td>\r\n                <td colSpan={2}>Tổng tiền</td>\r\n                <td>{fCurrencyVN(order ? order.totalprice : 0)}</td>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n        </div>\r\n      </Grid>\r\n\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default DetailOrderPage;\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\n\r\nimport ListOrderPage from \"./pages/ListOrderPage\";\r\nimport DetailOrderPage from \"./pages/DetailOrderPage\";\r\nimport NotFound from \"components/gennerals/NotFound\";\r\n\r\nfunction Order(props) {\r\n    const match = useRouteMatch();\r\n    return (\r\n        <Switch>\r\n            <Route exact path={`${match.url}`} component={ListOrderPage} />\r\n            <Route path={`${match.url}/:id`} component={DetailOrderPage} />\r\n            <Route component={NotFound} />\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default Order;\r\n\r\n","import { format ,formatDistance,formatDistanceToNow} from 'date-fns'\r\nimport viLocale from \"date-fns/locale/vi\";\r\n\r\n\r\nexport function formatdateYMD(dateObj = new Date()) {\r\n    const formatDate = format(dateObj, 'yyyy-MM-dd',{timeZone: \"UTC\"})\r\n    return formatDate;\r\n}\r\n\r\nexport function formatdateDMY(dateString) {\r\n    const dateObj = new Date(dateString);\r\n    const formatDate = format(dateObj, 'dd/MM/yyyy',{timeZone: \"UTC\"})\r\n    return formatDate;\r\n}\r\n\r\nexport function distanceToNow(dateString) {\r\n    const distanceToNow = formatDistanceToNow(\r\n        new Date(dateString),\r\n        { locale: viLocale,addSuffix: true}\r\n    );\r\n    return distanceToNow;\r\n}","import Box from '@mui/material/Box';\r\nimport Skeleton from '@mui/material/Skeleton';\r\n\r\nexport default function TableSkeleton() {\r\n  return (\r\n    <Box sx={{ width: '100%' }}>\r\n      <Skeleton \r\n      sx={{ height: 400, width: '100%' }}\r\n      variant=\"rect\"\r\n      animation=\"wave\" />\r\n    </Box>\r\n  );\r\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\n}), 'Visibility');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"\n}), 'KeyboardArrowDown');\n\nexports.default = _default;"],"sourceRoot":""}