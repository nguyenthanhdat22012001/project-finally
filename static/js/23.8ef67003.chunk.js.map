{"version":3,"sources":["views/client/shopping/components/Stepper.js","views/client/shopping/components/InputQuantity2.js","views/client/shopping/pages/CartPage.js","views/client/shopping/components/DialogCheckout.js","views/client/shopping/pages/ChekOutPage.js","views/client/shopping/pages/CheckoutSuccessPage.js","views/client/shopping/index.jsx","helper/FormatDate.js","api/couponApi.js","validates/clientValidate.js","api/paymentApi.js"],"names":["ColorlibConnector","styled","StepConnector","theme","stepConnectorClasses","alternativeLabel","top","active","line","backgroundImage","completed","height","border","backgroundColor","palette","mode","grey","borderRadius","ColorlibStepIconRoot","ownerState","zIndex","color","width","display","justifyContent","alignItems","boxShadow","ColorlibStepIcon","props","className","icons","String","icon","steps","CustomizedSteppers","stepCart","Stack","sx","spacing","Stepper","activeStep","connector","map","label","Step","StepLabel","StepIconComponent","InputQuantity2","useState","quantity","qty","setQty","IconButton","size","onClick","newQty","handleUpdateQuantityProductInCart","store_id","product_id","attribute_id","type","value","min","onChange","e","target","isNaN","maxQuantity","defaultProps","baseUrl","CartPage","dispatch","useDispatch","cart","useSelector","state","shopping","user","auth","history","useHistory","enqueueSnackbar","useSnackbar","useEffect","scrollToTop","console","log","handleUpdateQuantityCartredux","error","role","Breadcrumbs","to","Typography","stores","stor","colspan","store","slug","name","products","prd","attributes","attribute","product","src","img","alt","fCurrencyVN","price","id","newData","handleDeleteProductCartredux","handleDeleteProductInCart","totalPrice","style","textAlign","Button","variant","marginRight","push","handleNotiDialog","DialogCheckout","openDialogChekout","order","setOrder","handleRedirectCheckoutSuccessPage","Dialog","open","onClose","maxWidth","Box","component","padding","fontSize","DialogActions","autoFocus","ChekOutPage","isProccess","setIsProccess","setOpenDialogChekout","coupons","setCoupon","payments","setPayment","useForm","resolver","yupResolver","checkOutSchema","register","handleSubmit","errors","formState","a","Promise","all","getCouponUserCollection","getMethodPayment","couponApi","res","success","data","paymentApi","getPaymentAll","handleConditioncouponStore","coupon_id","coupon","find","item","handleUseCouponStoreRedux","onLoginSubmit","user_id","shoppingApi","checkout","handleClearCartRedux","onSubmit","ProccessDialog","marginBottom","Link","underline","href","minWidth","FormControl","fullWidth","TextField","margin","defaultValue","helperText","message","phone","address","multiline","rows","note","InputLabel","Select","labelId","payment_id","payment","handlePaymentRedux","MenuItem","marginLeft","handleUseCouponSystemRedux","sku","Object","keys","length","feeShip","disabled","CheckoutSuccessPage","useParams","getOrderByid","params","getOrderByUserIdAndOrderId","formatdateDMY","created_at","class","product_img","product_name","attribute_name","product_price","amount","shippingprice","sub_order","coupon_sku","coupon_price","totalprice","Shopping","match","useRouteMatch","exact","path","url","formatdateYMD","dateObj","Date","formatDate","format","timeZone","dateString","distanceToNow","formatDistanceToNow","locale","viLocale","addSuffix","getCouponAll","axisosClient","get","getCouponById","addCoupon","post","updateCoupon","put","deleteCoupon","delete","getCouponAdmin","getCouponStore","collectionCoupon","deleteCouponUserCollection","postSchema","yup","shape","required","max","trim","matches","infoSchema","email","getPaymentById","addPayment","updatePayment","deletePayment"],"mappings":"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","file":"static/js/23.8ef67003.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { styled } from '@mui/material/styles';\r\nimport Stack from '@mui/material/Stack';\r\nimport Stepper from '@mui/material/Stepper';\r\nimport Step from '@mui/material/Step';\r\nimport StepLabel from '@mui/material/StepLabel';\r\nimport StepConnector, { stepConnectorClasses } from '@mui/material/StepConnector';\r\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\r\nimport AttachMoneyIcon from '@mui/icons-material/AttachMoney';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\n\r\n\r\nconst ColorlibConnector = styled(StepConnector)(({ theme }) => ({\r\n  [`&.${stepConnectorClasses.alternativeLabel}`]: {\r\n    top: 22,\r\n  },\r\n  [`&.${stepConnectorClasses.active}`]: {\r\n    [`& .${stepConnectorClasses.line}`]: {\r\n      backgroundImage:\r\n        'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)',\r\n    },\r\n  },\r\n  [`&.${stepConnectorClasses.completed}`]: {\r\n    [`& .${stepConnectorClasses.line}`]: {\r\n      backgroundImage:\r\n        'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)',\r\n    },\r\n  },\r\n  [`& .${stepConnectorClasses.line}`]: {\r\n    height: 3,\r\n    border: 0,\r\n    backgroundColor:\r\n      theme.palette.mode === 'dark' ? theme.palette.grey[800] : '#eaeaf0',\r\n    borderRadius: 1,\r\n  },\r\n}));\r\n\r\nconst ColorlibStepIconRoot = styled('div')(({ theme, ownerState }) => ({\r\n  backgroundColor: theme.palette.mode === 'dark' ? theme.palette.grey[700] : '#ccc',\r\n  zIndex: 1,\r\n  color: '#fff',\r\n  width: 50,\r\n  height: 50,\r\n  display: 'flex',\r\n  borderRadius: '50%',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  ...(ownerState.active && {\r\n    backgroundImage:\r\n      'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)',\r\n    boxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n  }),\r\n  ...(ownerState.completed && {\r\n    backgroundImage:\r\n      'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)',\r\n  }),\r\n}));\r\n\r\nfunction ColorlibStepIcon(props) {\r\n  const { active, completed, className } = props;\r\n\r\n  const icons = {\r\n    1: <ShoppingCartIcon />,\r\n    2: <AttachMoneyIcon />,\r\n    3: <CheckIcon />,\r\n  };\r\n\r\n  return (\r\n    <ColorlibStepIconRoot ownerState={{ completed, active }} className={className}>\r\n      {icons[String(props.icon)]}\r\n    </ColorlibStepIconRoot>\r\n  );\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n  /**\r\n   * Whether this step is active.\r\n   * @default false\r\n   */\r\n  active: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  /**\r\n   * Mark the step as completed. Is passed to child components.\r\n   * @default false\r\n   */\r\n  completed: PropTypes.bool,\r\n  /**\r\n   * The label displayed in the step icon.\r\n   */\r\n  icon: PropTypes.node,\r\n};\r\n\r\nconst steps = ['Giỏ hàng', 'Thanh toán', 'Hoàn tất'];\r\n\r\nexport default function CustomizedSteppers({stepCart}) {\r\n\r\n  return (\r\n    <Stack sx={{ width: '100%' }} spacing={4}>\r\n      <Stepper alternativeLabel activeStep={stepCart} connector={<ColorlibConnector />}>\r\n        {steps.map((label) => (\r\n          <Step key={label}>\r\n            <StepLabel StepIconComponent={ColorlibStepIcon}>{label}</StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n    </Stack>\r\n  );\r\n}\r\n","import React,{useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport RemoveIcon from '@mui/icons-material/Remove';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\n\r\nInputQuantity2.propTypes = {\r\n    store_id: PropTypes.number,\r\n    product_id: PropTypes.number,\r\n    attribute_id: PropTypes.number,\r\n    quantity: PropTypes.number,\r\n    maxQuantity: PropTypes.number,\r\n    handleUpdateQuantityProductInCart: PropTypes.func,\r\n}\r\n\r\nInputQuantity2.defaultProps = {\r\n    store_id: null,\r\n    product_id: null,\r\n    attribute_id: null,\r\n    quantity: 1,\r\n    maxQuantity: null,\r\n    handleUpdateQuantityProductInCart: null,\r\n}\r\n\r\nfunction InputQuantity2(props) {\r\n    const [qty, setQty] = useState(props.quantity);\r\n\r\n    function handldeUp() {\r\n        const newQty = props.quantity + 1;\r\n        if (newQty > props.maxQuantity) {\r\n                return;  \r\n        } \r\n        setQty(newQty);\r\n        props.handleUpdateQuantityProductInCart(props.store_id,props.product_id,props.attribute_id,newQty);\r\n    }\r\n\r\n    function handldeDown() {\r\n            const newQty = props.quantity - 1;\r\n            setQty(newQty);\r\n            props.handleUpdateQuantityProductInCart(props.store_id,props.product_id,props.attribute_id,newQty);\r\n    }\r\n\r\n    const handleOnchangeInput = (e) => {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        if (!isNaN(value)) {\r\n            let newQty = value;\r\n            if (newQty > props.maxQuantity) {\r\n                newQty = props.maxQuantity;\r\n            }\r\n            if (newQty < 0) {\r\n                newQty = 1;\r\n            }\r\n            setQty(newQty);\r\n            props.handleUpdateQuantityProductInCart(props.store_id,props.product_id,props.attribute_id,newQty);\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"inputUpDown\">\r\n            <IconButton aria-label=\"delete\" size=\"small\" onClick={handldeDown} >\r\n                <RemoveIcon color=\"disabled\" />\r\n            </IconButton>\r\n            {/* <span className=\"inputUpDown__input\">{props.quantity}</span> */}\r\n            <input className=\"inputUpDown__input\" type=\"number\" value={qty} min=\"1\" onChange={handleOnchangeInput} />\r\n            <IconButton aria-label=\"delete\" size=\"small\" onClick={handldeUp}>\r\n                <AddIcon color=\"disabled\" />\r\n            </IconButton>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default InputQuantity2\r\n\r\n","import React,{useEffect} from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport Breadcrumbs from '@mui/material/Breadcrumbs';\r\nimport StorefrontIcon from '@mui/icons-material/Storefront';\r\n//redux\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { handleDeleteProductCartredux, handleUpdateQuantityCartredux } from \"redux/actions/cartAction\";\r\n//helper\r\nimport { fCurrencyVN } from 'helper/FormatNumber';\r\nimport { handleNotiDialog, scrollToTop } from \"helper/notify\";\r\n//noti\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport \"./CartPage.scss\";\r\nimport Stepper from \"../components/Stepper\";\r\nimport InputQuantity2 from \"../components/InputQuantity2\";\r\n\r\nconst baseUrl = '/client';\r\n\r\nfunction CartPage() {\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector(state => state.shopping.cart);\r\n  const user = useSelector(state => state.auth.user);\r\n  const history = useHistory();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    scrollToTop();\r\n  }, [])\r\n\r\n  /*************handle delete product in cart**************/\r\n  const handleDeleteProductInCart = (store_id, product_id, attribute_id) => {\r\n\r\n    try {\r\n      const newData = {\r\n        store_id: store_id,\r\n        product_id: product_id,\r\n        attribute_id: attribute_id,\r\n      };\r\n\r\n      dispatch(handleDeleteProductCartredux(newData));\r\n\r\n    } catch (error) {\r\n      console.log('error: ' + error);\r\n    }\r\n  }\r\n\r\n  /*************handle update quantity product in cart**************/\r\n  const handleUpdateQuantityProductInCart = (store_id, product_id, attribute_id, quantity) => {\r\n    console.log(store_id, product_id, attribute_id, quantity);\r\n    try {\r\n      dispatch(handleUpdateQuantityCartredux(store_id, product_id, attribute_id, quantity))\r\n\r\n    } catch (error) {\r\n      console.log('error: ' + error);\r\n    }\r\n  }\r\n  /*************handle redirect checkout page**************/\r\n  const handleRedirectCheckoutPage = () => {\r\n    if (!user) {\r\n      handleNotiDialog(enqueueSnackbar, \"Bạn chưa đăng nhập\", 'error');\r\n      return;\r\n    }\r\n\r\n    history.push(`${baseUrl}/shopping/checkout`);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div role=\"presentation\">\r\n        <Breadcrumbs aria-label=\"breadcrumb\">\r\n          <Link to=\"/client\">\r\n            TADAHA\r\n          </Link>\r\n          <Typography color=\"text.primary\">Giỏ hàng</Typography>\r\n        </Breadcrumbs>\r\n      </div>\r\n      <div className=\"row wrapper_inner\">\r\n        <Stepper stepCart={0} />\r\n        <div className=\"cart\">\r\n          <div className=\"cart__info table-responsive\">\r\n            <table className=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th></th>\r\n                  <th>Tên sản phẩm</th>\r\n                  <th>Giá</th>\r\n                  <th>Số lượng</th>\r\n                  <th>Thành tiền</th>\r\n                  <th></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {\r\n                  cart ?\r\n                    [...cart.stores].map(stor => {\r\n                      return (\r\n                        <tr key={stor.store.id}>\r\n                          <td colspan=\"6\">\r\n                            <div className=\" cart__store\">\r\n                              <td colspan=\"6\">\r\n                                <Link to={`${baseUrl}/product/store/${stor.store.slug}`}>\r\n                                  <StorefrontIcon />\r\n                                  <span>{stor.store.name}</span>\r\n                                </Link>\r\n                              </td>\r\n                            </div>\r\n                            {\r\n                              [...stor.products].map(prd => {\r\n                                return [...prd.attributes].map(attribute => {\r\n                                  return (<div className=\"cart__product-item\">\r\n                                    <td className=\"cart__product__image\">\r\n                                      <Link to={`${baseUrl}/product/${prd.product.slug}.html`}>\r\n                                        <img className=\"img-responsive\" src={prd.product.img} alt=\"\" />\r\n                                      </Link>\r\n                                    </td>\r\n                                    <td className=\"cart__product__desc\">\r\n                                      <Link to={`${baseUrl}/product/${prd.product.slug}.html`} className=\"ng-binding\">{prd.product.name}</Link>\r\n                                      <span >{attribute.name}</span>\r\n                                    </td>\r\n                                    <td className=\"cart__product__price\"> {fCurrencyVN(prd.product.price)}</td>\r\n                                    <td className=\"cart__product__quanty\">\r\n                                      <InputQuantity2\r\n                                        store_id={stor.store.id}\r\n                                        product_id={prd.product.id}\r\n                                        attribute_id={attribute.id}\r\n                                        quantity={attribute.quantity}\r\n                                        maxQuantity={attribute.maxQuantity}\r\n                                        handleUpdateQuantityProductInCart={handleUpdateQuantityProductInCart}\r\n                                      />\r\n                                    </td>\r\n                                    <td className=\"cart__product__amount\">\r\n                                      {\r\n                                        fCurrencyVN((prd.product.price * attribute.quantity))\r\n                                      }\r\n                                    </td>\r\n                                    <td className=\"cart__product__delete\">\r\n                                      <IconButton\r\n                                        aria-label=\"delete\"\r\n                                        size=\"small\"\r\n                                        onClick={() => handleDeleteProductInCart(stor.store.id, prd.product.id, attribute.id)}\r\n                                      >\r\n                                        <DeleteIcon color=\"disabled\" />\r\n                                      </IconButton>\r\n                                    </td>\r\n                                  </div>)\r\n                                })\r\n                              })\r\n                            }\r\n                          </td>\r\n                        </tr>\r\n                      )\r\n                    })\r\n                    : ''\r\n                }\r\n\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"cart__total-price\">\r\n            <span>Tổng thanh toán:</span>\r\n            <span className=\"pay-price\">\r\n              {cart ? fCurrencyVN(cart.totalPrice) : fCurrencyVN(0)}\r\n            </span>\r\n          </div>\r\n          <div className=\"\" style={{ textAlign: 'right' }}>\r\n            <Link to={`${baseUrl}/product`}> <Button variant=\"contained\" color=\"secondary\" size=\"large\" sx={{ marginRight: 1 }}>Tiếp tục mua hàng</Button> </Link>\r\n            <Button onClick={handleRedirectCheckoutPage} variant=\"contained\" color=\"primary\" size=\"large\">Thanh toán</Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div >\r\n  )\r\n\r\n}\r\n\r\nexport default CartPage;","import React,{ useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport Box from '@mui/material/Box';\r\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline';\r\nimport Typography from '@mui/material/Typography';\r\nimport { useHistory, Link } from 'react-router-dom';\r\n\r\nDialogCheckout.propTypes = {\r\n    openDialogChekout: PropTypes.bool,\r\n    order: PropTypes.object,\r\n}\r\n\r\nDialogCheckout.defaultProps = {\r\n    openDialogChekout: false,\r\n    order: null,\r\n}\r\n\r\nexport default function DialogCheckout(props) {\r\n    const { openDialogChekout } = props;\r\n    const [order,setOrder] = useState(props.order);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        setOrder(props.order);\r\n    }, [props.order])\r\n\r\n    const handleRedirectCheckoutSuccessPage = (id) => {\r\n        history.push(`/client/shopping/checkout-success/${id}`);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Dialog\r\n                open={openDialogChekout}\r\n                onClose={() => handleRedirectCheckoutSuccessPage(order.id)}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n                maxWidth=\"xl\"\r\n            >\r\n                <Box\r\n                    component=\"div\"\r\n                    sx={{\r\n                        textAlign: \"center\",\r\n                        padding: \"10px 20px\"\r\n                    }}\r\n                >\r\n                    <CheckCircleOutlineIcon sx={{ fontSize: '5vw' }} color='success' />\r\n                    <Typography variant='h5' color=\"text.primary\">Chúc mừng bạn đã đặt hàng thành công</Typography>\r\n                </Box>\r\n                <DialogActions>\r\n\r\n                    <Button onClick={() => handleRedirectCheckoutSuccessPage(order.id)} autoFocus>\r\n                        Tới hóa đơn\r\n                    </Button>\r\n\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select from '@mui/material/Select';\r\nimport TextField from '@mui/material/TextField';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport Breadcrumbs from '@mui/material/Breadcrumbs';\r\nimport LinkBreadcrumbs from '@mui/material/Link';\r\nimport StorefrontIcon from '@mui/icons-material/Storefront';\r\n// notify\r\nimport { useSnackbar } from 'notistack';\r\n//redux\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { handleUseCouponStoreRedux, handleUseCouponSystemRedux, handlePaymentRedux,handleClearCartRedux } from \"redux/actions/cartAction\";\r\n//api \r\nimport couponApi from \"api/couponApi\";\r\nimport paymentApi from \"api/paymentApi\";\r\nimport shoppingApi from \"api/shoppingApi\";\r\n//helper\r\nimport { fCurrencyVN } from 'helper/FormatNumber';\r\nimport { handleNotiDialog } from 'helper/notify';\r\nimport { scrollToTop } from 'helper/notify';\r\n//validate\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { checkOutSchema } from \"validates/clientValidate\";\r\n\r\nimport \"./ChekOutPage.scss\";\r\nimport Stepper from \"../components/Stepper\";\r\nimport DialogCheckout from \"../components/DialogCheckout\";\r\nimport ProccessDialog from \"components/dialog/ProccessDialog\";\r\n\r\nfunction ChekOutPage() {\r\n    const user = useSelector(state => state.auth.user);\r\n    const cart = useSelector(state => state.shopping.cart);\r\n    const dispatch = useDispatch();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    /******state*******/\r\n    const [isProccess, setIsProccess] = useState(false);\r\n    const [openDialogChekout, setOpenDialogChekout] = useState(false);\r\n    const [order, setOrder] = useState(null);\r\n    const [coupons, setCoupon] = useState([]);\r\n    const [payments, setPayment] = useState([]);\r\n\r\n    //validate\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        formState: { errors }\r\n    } = useForm({ resolver: yupResolver(checkOutSchema) });\r\n\r\n    useEffect(async () => {\r\n        Promise.all([getCouponUserCollection(), getMethodPayment()]);\r\n        scrollToTop()\r\n    }, [])\r\n    /******* get all coupon user collecttion********/\r\n    const getCouponUserCollection = async () => {\r\n        try {\r\n            const res = await couponApi.getCouponUserCollection(user.id);\r\n            if (res.success) {\r\n                setCoupon(res.data);\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log('error', error);\r\n        }\r\n    }\r\n    /******* get all method payment********/\r\n    const getMethodPayment = async () => {\r\n        try {\r\n            const res = await paymentApi.getPaymentAll();\r\n            if (res.success) {\r\n                setPayment(res.data);\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log('error', error);\r\n        }\r\n    }\r\n    /******* handle condition coupon store********/\r\n    const handleConditioncouponStore = (e) => {\r\n        const target = e.target;\r\n        const store_id = target.name;\r\n        const coupon_id = target.value;\r\n\r\n        try {\r\n            const coupon = [...coupons].find(item => item.coupon.id === coupon_id);\r\n            dispatch(handleUseCouponStoreRedux(enqueueSnackbar, store_id, coupon ? coupon.coupon : null));\r\n        } catch (error) {\r\n            console.log('error', error);\r\n        }\r\n    }\r\n    /******* handle condition coupon system********/\r\n    const handleConditioncouponSystem = (e) => {\r\n        const target = e.target;\r\n        const coupon_id = target.value;\r\n\r\n        try {\r\n            const coupon = [...coupons].find(item => item.coupon.id === coupon_id);\r\n            dispatch(handleUseCouponSystemRedux(enqueueSnackbar, coupon ? coupon.coupon : null));\r\n        } catch (error) {\r\n            console.log('error', error);\r\n        }\r\n    }\r\n    /******* handle payment********/\r\n    const handlePayment = (e) => {\r\n        const target = e.target;\r\n        const payment_id = target.value;\r\n\r\n        try {\r\n            const payment = [...payments].find(item => item.id === payment_id);\r\n            dispatch(handlePaymentRedux(payment ? payment : null));\r\n        } catch (error) {\r\n            console.log('error', error);\r\n        }\r\n    }\r\n\r\n    const onLoginSubmit = async (data) => {\r\n        if (!user) {\r\n            handleNotiDialog(enqueueSnackbar, 'Bạn chưa đăng nhập', 'error');\r\n            return;\r\n        }\r\n        setIsProccess(true);\r\n        try {\r\n            const newData = {\r\n                ...data,\r\n                user_id: user.id,\r\n                cart: cart,\r\n            }\r\n            const res = await shoppingApi.checkout(newData);\r\n            if (res.success) {\r\n                dispatch(handleClearCartRedux());\r\n                console.log('res.data',res.data);\r\n                setOrder(res.data);\r\n            }\r\n            setIsProccess(false);\r\n            setOpenDialogChekout(true);\r\n        } catch (error) {\r\n            console.log('error', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Box\r\n            component=\"form\"\r\n            onSubmit={handleSubmit(onLoginSubmit)}\r\n        >\r\n            {isProccess && <ProccessDialog />} {/* proccess page */}\r\n            <DialogCheckout\r\n                openDialogChekout={openDialogChekout}\r\n                order={order}\r\n            />\r\n            <div role=\"presentation\">\r\n                <Breadcrumbs aria-label=\"breadcrumb\" sx={{ marginBottom: 2 }}>\r\n                    <LinkBreadcrumbs underline=\"hover\" color=\"inherit\" href=\"/\">\r\n                        TADAHA\r\n                    </LinkBreadcrumbs>\r\n                    <Typography color=\"text.primary\">Thanh Toán</Typography>\r\n                </Breadcrumbs>\r\n            </div>\r\n            <div className=\"row wrapper_inner\">\r\n                <Stepper stepCart={1} />\r\n                <div className=\"checkout\">\r\n                    <div className=\"checkout__col\">\r\n                        <h4 className=\"checkout__title\">1. ĐỊA CHỈ THANH TOÁN VÀ GIAO HÀNG</h4>\r\n                        <div className=\"checkout__content\">\r\n                            <h2 className=\"checkout__sub-title\">Thông tin thanh toán</h2>\r\n                            <Box sx={{ minWidth: 120 }}>\r\n                                <FormControl fullWidth>\r\n                                    <TextField\r\n                                        margin=\"normal\"\r\n                                        label=\"Họ tên\"\r\n                                        variant=\"outlined\"\r\n                                        defaultValue={user.name}\r\n                                        {...register(\"name\")}\r\n                                        helperText={errors.name && `${errors.name?.message}`}\r\n                                        error={errors.name && true}\r\n                                    />\r\n                                    <TextField\r\n                                        margin=\"normal\"\r\n                                        label=\"số điện thoại\"\r\n                                        variant=\"outlined\"\r\n                                        defaultValue={user.phone}\r\n                                        {...register(\"phone\")}\r\n                                        helperText={errors.phone && `${errors.phone?.message}`}\r\n                                        error={errors.phone && true}\r\n                                    />\r\n                                    <TextField\r\n                                        margin=\"normal\"\r\n                                        label=\"Địa chỉ giao hàng\"\r\n                                        variant=\"outlined\"\r\n                                        {...register(\"address\")}\r\n                                        helperText={errors.address && `${errors.address?.message}`}\r\n                                        error={errors.address && true}\r\n                                    />\r\n                                    <TextField\r\n                                        multiline\r\n                                        rows={4}\r\n                                        margin=\"normal\"\r\n                                        label=\"Ghi chú\"\r\n                                        variant=\"outlined\"\r\n                                        {...register(\"note\")}\r\n                                        helperText={errors.note && `${errors.note?.message}`}\r\n                                        error={errors.note && true}\r\n                                    />\r\n                                </FormControl>\r\n                            </Box>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"checkout__col\">\r\n                        <h4 className=\"checkout__title\">2. THANH TOÁN</h4>\r\n                        <div className=\"checkout__content\">\r\n                            <h2 className=\"checkout__sub-title\">Phương thức thanh toán</h2>\r\n                            <Box sx={{ minWidth: 120 }}>\r\n                                <FormControl fullWidth margin=\"normal\">\r\n                                    <InputLabel id=\"demo-simple-select-label\">Phương thức thanh toán</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"demo-simple-select-label\"\r\n                                        id=\"demo-simple-select\"\r\n                                        defaultValue={0}\r\n                                        label=\"Phuong thuc Thanh toan\"\r\n                                        {...register(\"payment_id\")}\r\n                                        error={errors.payment_id && true}\r\n                                        onChange={handlePayment}\r\n                                    >\r\n                                        <MenuItem value={0}>Chọn phương thức</MenuItem>\r\n                                        {\r\n                                            [...payments].map(item => {\r\n                                                return (<MenuItem key={item.id} value={item.id}>{item.name}</MenuItem>)\r\n                                            })\r\n                                        }\r\n\r\n                                    </Select>\r\n                                    {errors.payment_id && <p style={{ color: 'red', fontSize: '12px', marginLeft: '15px' }}>{errors.payment_id?.message}</p>}\r\n                                </FormControl>\r\n                            </Box>\r\n                            <h2 className=\"checkout__sub-title\">Mã giảm giá</h2>\r\n                            <Box sx={{ minWidth: 120 }}>\r\n                                <FormControl fullWidth margin=\"normal\">\r\n                                    <InputLabel id=\"demo-simple-select-label\">Voucher</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"demo-simple-select-label\"\r\n                                        id=\"demo-simple-select\"\r\n                                        defaultValue={0}\r\n                                        label=\"Mã giảm giá\"\r\n                                        onChange={handleConditioncouponSystem}\r\n                                    >\r\n                                        <MenuItem value={0}>Chọn Voucher</MenuItem>\r\n                                        {\r\n                                            [...coupons].map(item => {\r\n                                                if (item.coupon.store_id === null) {\r\n                                                    return (\r\n                                                        <MenuItem key={item.coupon.id} value={item.coupon.id}>{item.coupon.sku}</MenuItem>\r\n                                                    )\r\n                                                }\r\n                                            })\r\n                                        }\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Box>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"checkout__col\">\r\n                        <h4 className=\"checkout__title\">3. THÔNG TIN ĐƠN HÀNG</h4>\r\n                        <div className=\"checkout__content\">\r\n                            <div className=\"checkout__order-info\">\r\n                                {\r\n                                    cart ?\r\n                                        [...cart.stores].map(stor => {\r\n                                            return (\r\n                                                <div key={stor.store.id} className=\"checkout__order-box\">\r\n                                                    <div className=\"checkout__order-store\">\r\n                                                        <StorefrontIcon />\r\n                                                        <span>{stor.store.name}</span>\r\n                                                    </div>\r\n                                                    {\r\n                                                        [...stor.products].map(prd => {\r\n                                                            return [...prd.attributes].map(attribute => {\r\n                                                                return (\r\n                                                                    <div key={attribute.id} className=\"checkout__order\">\r\n                                                                        <div className=\"checkout__order-img\">\r\n                                                                            <img src={prd.product.img} alt=\"\" />\r\n                                                                        </div>\r\n                                                                        <div className=\"checkout__order-content\">\r\n                                                                            <h6 className=\"checkout__order-name\">{prd.product.name}</h6>\r\n                                                                            <div className=\"checkout__order-bottom\">\r\n                                                                                <p className=\"checkout__order-quanty\">\r\n                                                                                    <span>{attribute.name}</span> x <span>{attribute.quantity}</span>\r\n                                                                                </p>\r\n                                                                                <p className=\"checkout__order-price\">\r\n                                                                                    {fCurrencyVN((prd.product.price * attribute.quantity))}\r\n                                                                                </p>\r\n                                                                            </div>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                )\r\n                                                            });\r\n                                                        })\r\n                                                    }\r\n                                                    <Box >\r\n                                                        <FormControl fullWidth margin=\"normal\">\r\n                                                            <InputLabel id=\"demo-simple-select-label\">Voucher</InputLabel>\r\n                                                            <Select\r\n                                                                labelId=\"demo-simple-select-label\"\r\n                                                                id=\"demo-simple-select\"\r\n                                                                defaultValue={0}\r\n                                                                label=\"Mã giảm giá\"\r\n                                                                name={`${stor.store.id}`}\r\n                                                                onChange={handleConditioncouponStore}\r\n                                                            >\r\n                                                                <MenuItem value={0}>Chọn Voucher</MenuItem>\r\n                                                                {\r\n                                                                    [...coupons].map(item => {\r\n                                                                        if (item.coupon.store_id === stor.store.id) {\r\n                                                                            return (<MenuItem key={item.coupon.id} value={item.coupon.id}>{item.coupon.sku}</MenuItem>)\r\n                                                                        }\r\n                                                                    })\r\n                                                                }\r\n                                                            </Select>\r\n                                                        </FormControl>\r\n                                                    </Box>\r\n                                                    <div className=\"checkout__payment\">\r\n                                                        <span> Thành tiền</span>\r\n                                                        <span className=\"checkout__used-coupon\">{stor.coupon && Object.keys(stor.coupon).length > 0 ? fCurrencyVN(stor.totalPrice + stor.coupon.price) : ''}</span>\r\n                                                        <span> {fCurrencyVN(stor.totalPrice)}</span>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                        : \"\"\r\n                                }\r\n\r\n                            </div>\r\n\r\n                            <div className=\"checkout__payment\">\r\n                                <span> phí ship</span>\r\n                                <span>{cart ? fCurrencyVN(cart.feeShip) : '0đ'} </span>\r\n                            </div>\r\n                            {\r\n                                cart && cart.coupon ?\r\n                                    <div className=\"checkout__payment\">\r\n                                        <span> {cart.coupon.sku}</span>\r\n                                        <span>- {fCurrencyVN(cart.coupon.price)} </span>\r\n                                    </div>\r\n                                    : \"\"\r\n                            }\r\n                            <div className=\"checkout__payment checkout__total-payment\">\r\n                                <span> Thanh toán</span>\r\n                                <span className=\"checkout__used-coupon\">{cart && cart.coupon && Object.keys(cart.coupon).length > 0 ? fCurrencyVN(cart.totalPrice + cart.coupon.price) : ''}</span>\r\n                                <span>{cart ? fCurrencyVN(cart.totalPrice) : '0đ'}</span>\r\n                            </div>\r\n                            <div className=\"checkout__btn\">\r\n                                <Button\r\n                                    type='submit'\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    size=\"large\"\r\n                                    disabled={cart && cart.totalPrice > 0 ? false : true }\r\n                                >Đặt hàng</Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default ChekOutPage;","import React, { useState, useEffect } from 'react';\r\nimport Typography from '@mui/material/Typography';\r\nimport Breadcrumbs from '@mui/material/Breadcrumbs';\r\nimport LinkBreadcrumbs from '@mui/material/Link';\r\nimport Button from '@mui/material/Button';\r\nimport { Link } from 'react-router-dom';\r\nimport { useParams } from \"react-router-dom\";\r\n//api \r\nimport shoppingApi from \"api/shoppingApi\";\r\n//redux\r\nimport { useSelector } from \"react-redux\";\r\n//helper\r\nimport { formatdateDMY } from \"helper/FormatDate\";\r\nimport { fCurrencyVN } from 'helper/FormatNumber';\r\nimport { scrollToTop } from 'helper/notify';\r\n\r\nimport \"./CheckoutSuccessPage.scss\";\r\n\r\nfunction CheckoutSuccessPage() {\r\n    const user = useSelector(state => state.auth.user);\r\n    const { id } = useParams();\r\n    /********state***********/\r\n    const [order, setOrder] = useState(null);\r\n\r\n    useEffect(async () => {\r\n        await getOrderByid();\r\n        scrollToTop();\r\n    }, [id])\r\n\r\n    const getOrderByid = async () => {\r\n        try {\r\n            const params = {\r\n                user_id: user.id,\r\n                id: id\r\n            }\r\n            const res = await shoppingApi.getOrderByUserIdAndOrderId(params);\r\n            if (res.success) {\r\n                setOrder(res.data);\r\n            }\r\n        } catch (error) {\r\n            console.log('error', error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div role=\"presentation\">\r\n                <Breadcrumbs aria-label=\"breadcrumb\" sx={{ marginBottom: 2 }}>\r\n                    <LinkBreadcrumbs underline=\"hover\" color=\"inherit\" href=\"/\">\r\n                        TADAHA\r\n                    </LinkBreadcrumbs>\r\n                    <Typography color=\"text.primary\">Đơn hàng</Typography>\r\n                </Breadcrumbs>\r\n            </div>\r\n            <div className=\"row wrapper_inner\">\r\n                <div className=\"payment-order\">\r\n                    <h3 className=\"payment-order__sku\">Mã đơn hàng của bạn: <b className=\"text-trong\">#{order ? order.id : \"\"}</b></h3>\r\n                    <p className=\"payment-order__date\">\r\n                        <b className=\"text-trong\">Ngày đặt: </b>\r\n                        <i>{order ? formatdateDMY(order.created_at) : \"\"}</i>\r\n                    </p>\r\n                    <p className=\"payment-order__date\">\r\n                        <b className=\"text-trong\">Phương thức thanh toán: </b>\r\n                        <i>{order ? order.payment.name : \"\"}</i>\r\n                    </p>\r\n                    <h1 className=\"payment-order__title\">Thông tin đơn hàng</h1>\r\n                    <div class=\"payment-order__info table-responsive\">\r\n                        <table class=\"table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th></th>\r\n                                    <th>Tên sản phẩm</th>\r\n                                    <th>Giá</th>\r\n                                    <th>Số lượng</th>\r\n                                    <th>Thành tiền</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    order ?\r\n                                        [...order.product].map(prd => {\r\n                                            return (\r\n                                                <tr class=\"payment-order__product-item\">\r\n                                                    <td class=\"payment-order__product__image\">\r\n                                                        <img class=\"img-responsive\" src={prd.product_img} alt=\"\" />\r\n                                                    </td>\r\n                                                    <td class=\"payment-order__product__desc\">\r\n                                                        <p> {prd.product_name}</p>\r\n                                                        <span >{prd.attribute_name}</span>\r\n                                                    </td>\r\n                                                    <td class=\"payment-order__product__price\">{fCurrencyVN(prd.product_price)}</td>\r\n                                                    <td class=\"payment-order__product__quanty\">\r\n                                                    {prd.amount}\r\n                                                    </td>\r\n                                                    <td class=\"payment-order__product__amount\">\r\n                                                    {fCurrencyVN(prd.product_price * prd.amount)}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            )\r\n                                        }) : \"\"\r\n                                }\r\n\r\n                            </tbody>\r\n                            <tfoot>\r\n                                <tr>\r\n                                    <td></td>\r\n                                    <td></td>\r\n                                    <td></td>\r\n                                    <td>Phí ship</td>\r\n                                    <td>{order ? fCurrencyVN(order.shippingprice) : \"\"}</td>\r\n                                </tr>\r\n                                {\r\n                                    order ?\r\n                                        [...order.sub_order].map(item => {\r\n                                            return (\r\n                                                <tr>\r\n                                                    <td></td>\r\n                                                    <td></td>\r\n                                                    <td></td>\r\n                                                    <td>{item.coupon_sku}</td>\r\n                                                    <td>- {fCurrencyVN(item.coupon_price)}</td>\r\n                                                </tr>\r\n                                            )\r\n                                        }) : \"\"\r\n                                }\r\n                                <tr>\r\n                                    <td></td>\r\n                                    <td></td>\r\n                                    <td></td>\r\n                                    <td>  {order  ? order.coupon_sku : \"\"}</td>\r\n                                    <td>- {order ? fCurrencyVN(order.coupon_price) : \"0 đ\"}</td>\r\n                                </tr>\r\n                            </tfoot>\r\n                        </table>\r\n                    </div>\r\n                    <div class=\"payment-order__total-price\">\r\n                        <span><b className=\"text-trong\">Tổng thanh toán:</b></span>\r\n                        <span class=\"pay-price\">\r\n                            {order ? fCurrencyVN(order.totalprice) : \"0 đ\"}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"\" style={{ textAlign: 'right' }}>\r\n                        <Link to={`/client/user/order`}>  <Button variant=\"contained\" color=\"primary\" size=\"large\">Đơn hàng của tôi</Button></Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckoutSuccessPage;","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\n\r\nimport CartPage from \"./pages/CartPage\";\r\nimport ChekOutPage from \"./pages/ChekOutPage\";\r\nimport CheckoutSuccessPage from \"./pages/CheckoutSuccessPage\";\r\n\r\nfunction Shopping(props) {\r\n    const match = useRouteMatch();\r\n    console.log(match);\r\n    return (\r\n        <Switch>\r\n            <Route exact path={`${match.url}`} component={CartPage} />\r\n            <Route path={`${match.url}/checkout`} component={ChekOutPage} />\r\n            <Route path={`${match.url}/checkout-success/:id`} component={CheckoutSuccessPage} />\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default Shopping\r\n\r\n","import { format ,formatDistance,formatDistanceToNow} from 'date-fns'\r\nimport viLocale from \"date-fns/locale/vi\";\r\n\r\n\r\nexport function formatdateYMD(dateObj = new Date()) {\r\n    const formatDate = format(dateObj, 'yyyy-MM-dd',{timeZone: \"UTC\"})\r\n    return formatDate;\r\n}\r\n\r\nexport function formatdateDMY(dateString) {\r\n    const dateObj = new Date(dateString);\r\n    const formatDate = format(dateObj, 'dd/MM/yyyy',{timeZone: \"UTC\"})\r\n    return formatDate;\r\n}\r\n\r\nexport function distanceToNow(dateString) {\r\n    const distanceToNow = formatDistanceToNow(\r\n        new Date(dateString),\r\n        { locale: viLocale,addSuffix: true}\r\n    );\r\n    return distanceToNow;\r\n}","import axisosClient from \"./axisosClient\";\r\n\r\nconst couponApi = {\r\n    getCouponAll: ()=>{\r\n        const url = `/coupons`;\r\n        return axisosClient.get(url);\r\n    },\r\n    getCouponById: (id)=>{\r\n        const url = `/coupons/${id}`;\r\n        return axisosClient.get(url);\r\n    },\r\n    addCoupon: (data)=>{\r\n        const url = `/coupons`;\r\n        return axisosClient.post(url,{...data});\r\n    },\r\n    updateCoupon: (id,data)=>{\r\n        const url = `/coupons/${id}`;\r\n        return axisosClient.put(url,{...data});\r\n    },\r\n    deleteCoupon: (id)=>{\r\n        const url = `/coupons/${id}`;\r\n        return axisosClient.delete(url);\r\n    },\r\n    getCouponAdmin: ()=>{\r\n        const url = `/coupon/0`;\r\n        return axisosClient.get(url);\r\n    },\r\n    getCouponStore: (id)=>{\r\n        const url = `/coupon/${id}`;\r\n        return axisosClient.get(url);\r\n    },\r\n    getCouponUserCollection: (id)=>{\r\n        const url = `/collection-coupon/user/${id}`;\r\n        return axisosClient.get(url);\r\n    },\r\n    collectionCoupon: (data)=>{\r\n        const url = `/collection-coupon`;\r\n        return axisosClient.post(url,{...data});\r\n    },\r\n    deleteCouponUserCollection: (id)=>{\r\n        const url = `/collection-coupon/${id}`;\r\n        return axisosClient.delete(url);\r\n    },\r\n}\r\n\r\n\r\n\r\nexport default couponApi;","import * as yup from \"yup\";\r\n\r\nexport const postSchema = yup.object().shape({\r\n  name: yup\r\n    .string()\r\n    .required(\"Vui lòng nhập tiêu đề\")\r\n    .min(16, \"tiêu đề ít nhất 16 ký tự\"),\r\n});\r\n\r\n\r\nexport const checkOutSchema = yup.object().shape({\r\n  name: yup\r\n    .string()\r\n    .max(255, 'Tối đa 255 kí tự')\r\n    .trim()\r\n    .required(\"Không được để trống\"),\r\n  phone: yup\r\n    .string()\r\n    .required(\"Không được để trống\")\r\n    .max(10,'Tối đa 10 kí tự')\r\n    .matches(/(84|0[3|5|7|8|9])+([0-9]{8})\\b/g, 'không đúng định dạng'),\r\n  address: yup\r\n    .string()\r\n    .max(255, 'Tối đa 255 kí tự')\r\n    .trim()\r\n    .required(\"Không được để trống\"),\r\n  note: yup\r\n    .string()\r\n    .max(255, 'Tối đa 255 kí tự')\r\n    .trim(),\r\n  payment_id: yup\r\n    .number()\r\n    .min(1, \"Bạn chưa chọn\"),\r\n});\r\n\r\nexport const infoSchema = yup.object().shape({\r\n  name: yup\r\n    .string()\r\n    .max(255, 'Tối đa 255 kí tự')\r\n    .trim()\r\n    .required(\"Không được để trống\"),\r\n  phone: yup\r\n    .string()\r\n    .required(\"Không được để trống\")\r\n    .max(10,'Tối đa 10 kí tự')\r\n    .matches(/(84|0[3|5|7|8|9])+([0-9]{8})\\b/g, 'không đúng định dạng'),\r\n  address: yup\r\n    .string()\r\n    .max(255, 'Tối đa 255 kí tự')\r\n    .trim()\r\n    .required(\"Không được để trống\"),\r\n    email: yup\r\n    .string()\r\n    .required(\"Vui lòng nhập email\")\r\n    .min(16, \"email ít nhất 16 ký tự\")\r\n    .email('Không đúng định dang email'),\r\n});","import axisosClient from \"./axisosClient\";\r\n\r\nconst paymentApi = {\r\n    getPaymentAll: ()=>{\r\n        const url = `/payment`;\r\n        return axisosClient.get(url);\r\n    },\r\n    getPaymentById: (id)=>{\r\n        const url = `/payment/${id}`;\r\n        return axisosClient.get(url);\r\n    },\r\n    addPayment: (data)=>{\r\n        const url = `/payment`;\r\n        return axisosClient.post(url,{...data});\r\n    },\r\n    updatePayment: (id,data)=>{\r\n        const url = `/payment/${id}`;\r\n        return axisosClient.put(url,{...data});\r\n    },\r\n    deletePayment: (id)=>{\r\n        const url = `/payment/${id}`;\r\n        return axisosClient.delete(url);\r\n    },\r\n}\r\n\r\n\r\n\r\nexport default paymentApi;"],"sourceRoot":""}