{"version":3,"sources":["views/admin/order/components/ButtonStatus.js","views/admin/order/components/TableOrders.js","views/admin/order/pages/ListOrderAdminPage.js","views/admin/order/pages/DetailOrderPage.js","views/admin/order/index.jsx","components/dialog/ProccessDialog.js","helper/FormatDate.js","../node_modules/@mui/icons-material/Visibility.js","../node_modules/@mui/icons-material/KeyboardArrowDown.js"],"names":["StyledMenu","styled","props","Menu","elevation","anchorOrigin","vertical","horizontal","transformOrigin","theme","borderRadius","marginTop","spacing","minWidth","color","palette","mode","grey","boxShadow","padding","fontSize","text","secondary","marginRight","backgroundColor","alpha","primary","main","action","selectedOpacity","CustomizedMenus","defaultProps","statusObj","getOrderById","options","anchorRef","React","useRef","useState","open","setOpen","selectedIndex","setSelectedIndex","isProccess","setIsProccess","useEffect","status","handleToggle","prevOpen","handleMenuItemClick","event","index","order_id","a","console","log","handleUpdateStatus","id","data","shoppingApi","updateStatusOrder","success","ProccessDialog","Button","size","ref","undefined","variant","disabled","onClick","endIcon","ClickAwayListener","onClickAway","current","contains","target","MenuListProps","anchorEl","onClose","map","option","MenuItem","selected","TableOrders","orders","columns","field","headerName","width","renderCell","params","fCurrencyVN","value","formatdateDMY","to","IconButton","Grid","container","item","xs","sm","md","style","height","rows","pageSize","rowsPerPageOptions","disableSelectionOnClick","ListOrderAdminPage","useSelector","state","auth","user","setOrders","getAllOrderStore","getOrdersAdmin","res","newData","or_action","DetailOrderPage","useParams","order","setOrder","sub_orders","sub_order","ord","name_status","justifyContent","Typography","className","cellSpacing","name","address","phone","created_at","note","coupon_sku","coupon_price","shippingprice","totalQuantity","totalprice","payment","length","product","prd","src","product_img","alt","product_name","attribute_name","product_price","amount","colSpan","stores","stor","store_id","Order","match","useRouteMatch","exact","path","url","component","sx","zIndex","drawer","formatdateYMD","dateObj","Date","formatDate","format","timeZone","dateString","distanceToNow","formatDistanceToNow","locale","viLocale","addSuffix","_interopRequireDefault","require","Object","defineProperty","exports","default","_createSvgIcon","_jsxRuntime","_default","jsx","d"],"mappings":"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","file":"static/js/28.4803d1c2.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { styled, alpha } from '@mui/material/styles';\r\nimport Button from '@mui/material/Button';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport ClickAwayListener from '@mui/material/ClickAwayListener';\r\n//api\r\nimport shoppingApi from 'api/shoppingApi';\r\n\r\nimport ProccessDialog from \"components/dialog/ProccessDialog\"\r\n\r\n\r\nconst StyledMenu = styled((props) => (\r\n  <Menu\r\n    elevation={0}\r\n    anchorOrigin={{\r\n      vertical: 'bottom',\r\n      horizontal: 'right',\r\n    }}\r\n    transformOrigin={{\r\n      vertical: 'top',\r\n      horizontal: 'right',\r\n    }}\r\n    {...props}\r\n  />\r\n))(({ theme }) => ({\r\n  '& .MuiPaper-root': {\r\n    borderRadius: 6,\r\n    marginTop: theme.spacing(1),\r\n    minWidth: 180,\r\n    color:\r\n      theme.palette.mode === 'light' ? 'rgb(55, 65, 81)' : theme.palette.grey[300],\r\n    boxShadow:\r\n      'rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px',\r\n    '& .MuiMenu-list': {\r\n      padding: '4px 0',\r\n    },\r\n    '& .MuiMenuItem-root': {\r\n      '& .MuiSvgIcon-root': {\r\n        fontSize: 18,\r\n        color: theme.palette.text.secondary,\r\n        marginRight: theme.spacing(1.5),\r\n      },\r\n      '&:active': {\r\n        backgroundColor: alpha(\r\n          theme.palette.primary.main,\r\n          theme.palette.action.selectedOpacity,\r\n        ),\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nCustomizedMenus.propTypes = {\r\n  statusObj: PropTypes.object,\r\n  getOrderById: PropTypes.func,\r\n}\r\n\r\nCustomizedMenus.defaultProps = {\r\n  statusObj: null,\r\n  getOrderById: null,\r\n}\r\n\r\nconst options = ['Hủy đơn', 'Chờ xác nhận', 'Đã xác nhận', 'Đang giao hàng', 'Đã giao hàng'];\r\n\r\nexport default function CustomizedMenus(props) {\r\n  const { statusObj,getOrderById } = props;\r\n  const anchorRef = React.useRef(null);\r\n  /******state*******/\r\n  const [open, setOpen] = React.useState(false);\r\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n  const [isProccess, setIsProccess] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n    setSelectedIndex(statusObj ? statusObj.status : 0);\r\n  }, [statusObj])\r\n\r\n  const handleToggle = () => {\r\n    setOpen((prevOpen) => !prevOpen);\r\n  };\r\n\r\n  /**********handle close sub item button************/\r\n  const handleClose = (event) => {\r\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n  /**********handle click sub item button************/\r\n  const handleMenuItemClick = async (event, index, order_id) => {\r\n    console.log('order_id', order_id);\r\n    await handleUpdateStatus(order_id, index);\r\n    setSelectedIndex(index);\r\n    setOpen(false);\r\n  };\r\n\r\n  /**********handle update status order************/\r\n  const handleUpdateStatus = async (id, status) => {\r\n    try {\r\n      setIsProccess(true);\r\n      const data = {\r\n        status: status\r\n      }\r\n      const res = await shoppingApi.updateStatusOrder(id, data);\r\n      if(res.success && getOrderById){\r\n        await getOrderById();\r\n      }\r\n      setIsProccess(false);\r\n\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n          {isProccess && <ProccessDialog />} {/* proccess page */}\r\n      <Button\r\n        size=\"small\"\r\n        ref={anchorRef}\r\n        id=\"demo-customized-button\"\r\n        aria-controls=\"demo-customized-menu\"\r\n        aria-haspopup=\"true\"\r\n        aria-expanded={open ? 'true' : undefined}\r\n        variant=\"contained\"\r\n        disabled={selectedIndex < 2 || selectedIndex === 4 ? true : false}\r\n        onClick={handleToggle}\r\n        endIcon={<KeyboardArrowDownIcon />}\r\n      >\r\n        {options[selectedIndex]}\r\n      </Button>\r\n      <ClickAwayListener onClickAway={handleClose}>\r\n        <StyledMenu\r\n          id=\"demo-customized-menu\"\r\n          MenuListProps={{\r\n            'aria-labelledby': 'demo-customized-button',\r\n          }}\r\n          anchorEl={anchorRef.current}\r\n          open={open}\r\n          onClose={handleToggle}\r\n        >\r\n          {options.map((option, index) => {\r\n            if (index !== 1 && index !== 2) {\r\n              return (\r\n                <MenuItem\r\n                  key={option}\r\n                  selected={index === selectedIndex}\r\n                  onClick={(event) => handleMenuItemClick(event, index, statusObj.id)}\r\n                >\r\n                  {option}\r\n                </MenuItem>\r\n              )\r\n            }\r\n          })}\r\n        </StyledMenu>\r\n      </ClickAwayListener>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Grid from '@mui/material/Grid';\r\nimport { DataGrid } from '@mui/x-data-grid';\r\nimport { Link } from \"react-router-dom\";\r\nimport IconButton from '@mui/material/IconButton';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\n//helper\r\nimport { formatdateDMY } from \"helper/FormatDate\";\r\nimport { fCurrencyVN } from 'helper/FormatNumber';\r\n\r\nimport ButtonStatus from \"./ButtonStatus\";\r\n\r\nTableOrders.propTypes = {\r\n    orders: PropTypes.array,\r\n}\r\n\r\nTableOrders.defaultProps = {\r\n    orders: [],\r\n}\r\nconst base_url = '/admin/order';\r\n\r\nfunction TableOrders(props) {\r\n    const {orders} = props;\r\n\r\n    const columns = [\r\n        { field: 'id', headerName: 'Mã đơn', width: 90 },\r\n        {\r\n            field: 'name',\r\n            headerName: 'Họ tên',\r\n            width: 150,\r\n        },\r\n        {\r\n            field: 'phone',\r\n            headerName: 'Số điện thoại',\r\n            width: 150,\r\n        },\r\n        {\r\n            field: 'totalprice',\r\n            headerName: 'Tổng tiền',\r\n            width: 150,\r\n            renderCell: (params) => (\r\n                <div>{fCurrencyVN(params.value)}</div>\r\n            ),\r\n        },\r\n        {\r\n            field: 'created_at',\r\n            headerName: 'Ngày đặt',\r\n            width: 150,\r\n            renderCell: (params) => (\r\n                <div>{formatdateDMY(params.value)}</div>\r\n            ),\r\n        },\r\n        {\r\n            field: 'statusObj', headerName: '', width: 180,\r\n            renderCell: (params) => (\r\n                <ButtonStatus statusObj={params.value} />\r\n            ),\r\n        },\r\n        {\r\n            field: 'or_action', headerName: '', width: 90,\r\n            renderCell: (params) => (\r\n                <Link to={`${base_url}/${params.value}`}>\r\n                    <IconButton aria-label=\"\" color=\"inherit\">\r\n                        <VisibilityIcon />\r\n                    </IconButton>\r\n                </Link>\r\n            ),\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <Grid container spacing={3}>\r\n\r\n            <Grid item xs={12} sm={12} md={12}>\r\n                <div style={{ height: 400, width: '100%' }}>\r\n                    <DataGrid\r\n                        rows={orders}\r\n                        columns={columns}\r\n                        pageSize={5}\r\n                        rowsPerPageOptions={[5]}\r\n                        disableSelectionOnClick\r\n                    />\r\n                </div>\r\n            </Grid>\r\n\r\n        </Grid>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default TableOrders\r\n\r\n","import React, { useState, useEffect } from 'react';\r\n//api\r\nimport shoppingApi from 'api/shoppingApi';\r\n//redux\r\nimport { useSelector } from \"react-redux\";\r\n\r\n\r\nimport TableOrders from \"../components/TableOrders\";\r\n\r\nfunction ListOrderAdminPage() {\r\n    const user = useSelector(state => state.auth.user);\r\n    /*********state*********/\r\n    const [orders, setOrders] = useState([]);\r\n\r\n    useEffect(async () => {\r\n        await getAllOrderStore();\r\n    }, [])\r\n\r\n    const getAllOrderStore = async () => {\r\n        try {\r\n            const res = await shoppingApi.getOrdersAdmin();\r\n            if (res.success) {\r\n                const newData = [...res.data].map(item => {\r\n                    item.or_action = item.id;\r\n                    item.statusObj = {\r\n                        id: item.id,\r\n                        status: item.status,\r\n                    }\r\n                    return item;\r\n                })\r\n                setOrders(newData);\r\n            }\r\n        } catch (error) {\r\n            console.log('error', error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <TableOrders orders={orders} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ListOrderAdminPage;","import React, { useEffect, useState } from 'react';\r\nimport Grid from '@mui/material/Grid';\r\nimport Typography from '@mui/material/Typography';\r\nimport { useParams } from 'react-router-dom';\r\n//api\r\nimport shoppingApi from 'api/shoppingApi';\r\n//helper\r\nimport { formatdateDMY } from \"helper/FormatDate\";\r\nimport { fCurrencyVN } from 'helper/FormatNumber';\r\n\r\nimport \"./DetailOrderPage.scss\";\r\nimport ButtonStatus from \"../components/ButtonStatus\";\r\n\r\nfunction DetailOrderPage(props) {\r\n    const { id } = useParams();\r\n    /******state*******/\r\n    const [order, setOrder] = useState(null);\r\n\r\n\r\n    useEffect(async () => {\r\n        await getOrderById();\r\n    }, [id])\r\n\r\n    /**********get order by id*********/\r\n    const getOrderById = async () => {\r\n        try {\r\n            const res = await shoppingApi.getOrderById(id);\r\n            if (res.success) {\r\n                const sub_orders = [...res.data.sub_order].map(ord => {\r\n                    if (ord.status === 0) {\r\n                        ord.name_status = 'Đã hủy';\r\n                    } else if (ord.status === 1) {\r\n                        ord.name_status = 'Đang chờ xác nhận'\r\n                    } else if (ord.status === 2) {\r\n                        ord.name_status = 'Đã xác nhận'\r\n                    } else if (ord.status === 3) {\r\n                        ord.name_status = 'Đang giao hàng'\r\n                    } else {\r\n                        ord.name_status = 'Đã giao hàng'\r\n                    }\r\n                    return ord;\r\n                })\r\n                const newData = {\r\n                    ...res.data,\r\n                    statusObj: {\r\n                        id: res.data.id,\r\n                        status: res.data.status,\r\n                    },\r\n                    sub_order: sub_orders,\r\n                }\r\n\r\n                setOrder(newData);\r\n            }\r\n        } catch (error) {\r\n            console.log('error', error);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <Grid container spacing={3}>\r\n        \r\n            <Grid item xs={12} >\r\n                <Grid container justifyContent=\"space-evenly\">\r\n                    <Typography variant='h5'>\r\n                        Mã Đơn Hàng #{order ? order.id : ''}\r\n                    </Typography>\r\n                    <ButtonStatus\r\n                        statusObj={order ? order.statusObj : null}\r\n                        getOrderById={getOrderById}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} >\r\n                <div className=\"table-info\">\r\n                    <table cellSpacing=\"0\">\r\n                        <tr>\r\n                            <td>\r\n                                <span>Họ tên:</span>\r\n                                <span>{order ? order.name : ''}</span>\r\n                            </td>\r\n                            <td>\r\n                                <span>Địa chỉ:</span>\r\n                                <span>{order ? order.address : ''}</span>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <span>Số điện thoại:</span>\r\n                                <span>{order ? order.phone : ''}</span>\r\n                            </td>\r\n                            <td>\r\n                                <span>Ngày đặt:</span>\r\n                                <span>{order ? formatdateDMY(order.created_at) : ''}</span>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <span>Ghi chú:</span>\r\n                                <span>{order ? order.note : ''}</span>\r\n                            </td>\r\n                            <td>\r\n                                <p>\r\n                                    <span>Voucher {order ? order.coupon_sku : ''}:</span>\r\n                                    <span>{order ? fCurrencyVN(order.coupon_price) : ''}</span>\r\n                                </p>\r\n                                <p>\r\n                                    <span>Phí ship:</span>\r\n                                    <span>{order ? order.shippingprice : ''}</span>\r\n                                </p>\r\n                                <p>\r\n                                    <span>Số lượng:</span>\r\n                                    <span>{order ? order.totalQuantity : 0}</span>\r\n                                </p>\r\n                                <p>\r\n                                    <span>Tổng tiền:</span>\r\n                                    <span>{order ? fCurrencyVN(order.totalprice) : 0}</span>\r\n                                </p>\r\n                                <p>\r\n                                    <span>Phương thức thanh toán:</span>\r\n                                    <span>{order ? order.payment.name : ''}</span>\r\n                                </p>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                {\r\n                    order && [...order.sub_order].length > 0 ?\r\n                        [...order.sub_order].map(ord => {\r\n                            return (\r\n                                <div key={ord.id} className=\"table-order\">\r\n                                    <div className=\"header\">Mã đơn #{ord.id}</div>\r\n                                    <table cellSpacing=\"0\">\r\n                                        <tr>\r\n                                            <th>Hình ảnh</th>\r\n                                            <th >Tên sản phẩm</th>\r\n                                            <th>Giá</th>\r\n                                            <th>Số lượng</th>\r\n                                            <th>thành tiền</th>\r\n                                        </tr>\r\n                                        {\r\n                                            [...order.product].length > 0 ?\r\n                                                [...order.product].map(prd => {\r\n                                                    if (prd.order_id === ord.id) {\r\n                                                        return (\r\n                                                            <tr key={prd.id}>\r\n                                                                <td><img src={prd.product_img} alt=\"\" /></td>\r\n                                                                <td>\r\n                                                                    <p>{prd.product_name}</p>\r\n                                                                    <p style={{ color: \"gray\" }}>x {prd.attribute_name}</p>\r\n                                                                </td>\r\n                                                                <td>{fCurrencyVN(prd.product_price)}</td>\r\n                                                                <td>{prd.amount}</td>\r\n                                                                <td>{fCurrencyVN(prd.product_price * prd.amount)} </td>\r\n                                                            </tr>\r\n                                                        );\r\n                                                    }\r\n                                                }) : \"\"\r\n                                        }\r\n                                        <tfoot>\r\n                                            <tr>\r\n                                                <td colSpan={2}>\r\n                                                    {\r\n                                                        [...order.stores].length > 0 ?\r\n                                                            [...order.stores].map(stor => {\r\n                                                                if (ord.store_id === stor.id) {\r\n                                                                    return (\r\n                                                                        <p key={stor.id}>\r\n                                                                            <span>Tên cửa hàng:</span>\r\n                                                                            <span>{stor.name}</span>\r\n                                                                        </p>\r\n                                                                    )\r\n                                                                }\r\n                                                            }) : \"\"\r\n                                                    }\r\n                                                    {\r\n                                                        [...order.stores].length > 0 ?\r\n                                                            [...order.stores].map(stor => {\r\n                                                                if (ord.store_id === stor.id) {\r\n                                                                    return (\r\n                                                                        <p key={stor.id}>\r\n                                                                            <span>Số điện thoại:</span>\r\n                                                                            <span>{stor.phone}</span>\r\n                                                                        </p>\r\n                                                                    )\r\n                                                                }\r\n                                                            }) : \"\"\r\n                                                    }\r\n                                                    {\r\n                                                        [...order.stores].length > 0 ?\r\n                                                            [...order.stores].map(stor => {\r\n                                                                if (ord.store_id === stor.id) {\r\n                                                                    return (\r\n                                                                        <p key={stor.id}>\r\n                                                                            <span>Địa chỉ cửa hàng:</span>\r\n                                                                            <span>{stor.address}</span>\r\n                                                                        </p>\r\n                                                                    )\r\n                                                                }\r\n                                                            }) : \"\"\r\n                                                    }\r\n                                                    <p>\r\n                                                        <span>Trạng thái đơn hàng:</span>\r\n                                                        <span>{ord.name_status}</span>\r\n                                                    </p>\r\n                                                </td>\r\n                                                <td colSpan={3}>\r\n                                                    {\r\n                                                        ord.coupon_sku ?\r\n                                                            <p>\r\n                                                                <span>Voucher {ord.coupon_sku}:</span>\r\n                                                                <span>{fCurrencyVN(ord.coupon_price)}</span>\r\n                                                            </p>\r\n                                                            : \"\"\r\n                                                    }\r\n                                                    <p>\r\n                                                        <span>Số lượng:</span>\r\n                                                        <span>{ord.totalQuantity}</span>\r\n                                                    </p>\r\n                                                    <p>\r\n                                                        <span>Tổng tiền:</span>\r\n                                                        <span>{fCurrencyVN(ord.totalprice)}</span>\r\n                                                    </p>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tfoot>\r\n                                    </table>\r\n                                </div>\r\n                            )\r\n                        })\r\n                        : \"\"\r\n                }\r\n\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default DetailOrderPage\r\n\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\n\r\nimport ListOrderAdminPage from \"./pages/ListOrderAdminPage\";\r\nimport DetailOrderPage from \"./pages/DetailOrderPage\";\r\n\r\nfunction Order(props) {\r\n    const match = useRouteMatch();\r\n    return (\r\n        <Switch>\r\n            <Route exact path={`${match.url}`} component={ListOrderAdminPage} />\r\n            <Route path={`${match.url}/:id`} component={DetailOrderPage} />\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default Order;\r\n\r\n","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\n\r\nconst ProccessDialog = props => {\r\n\r\n    return (\r\n        <Backdrop\r\n            sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n            open={true}\r\n        >\r\n            <CircularProgress color=\"secondary\" />\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default ProccessDialog\r\n","import { format ,formatDistance,formatDistanceToNow} from 'date-fns'\r\nimport viLocale from \"date-fns/locale/vi\";\r\n\r\n\r\nexport function formatdateYMD(dateObj = new Date()) {\r\n    const formatDate = format(dateObj, 'yyyy-MM-dd',{timeZone: \"UTC\"})\r\n    return formatDate;\r\n}\r\n\r\nexport function formatdateDMY(dateString) {\r\n    const dateObj = new Date(dateString);\r\n    const formatDate = format(dateObj, 'dd/MM/yyyy',{timeZone: \"UTC\"})\r\n    return formatDate;\r\n}\r\n\r\nexport function distanceToNow(dateString) {\r\n    const distanceToNow = formatDistanceToNow(\r\n        new Date(dateString),\r\n        { locale: viLocale,addSuffix: true}\r\n    );\r\n    return distanceToNow;\r\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\n}), 'Visibility');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"\n}), 'KeyboardArrowDown');\n\nexports.default = _default;"],"sourceRoot":""}